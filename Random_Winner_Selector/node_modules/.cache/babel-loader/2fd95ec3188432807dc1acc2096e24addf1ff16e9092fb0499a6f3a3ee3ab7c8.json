{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bridogbe\\\\OneDrive - Publicis Groupe\\\\Documents\\\\Scripts\\\\random-winner-selector\\\\src\\\\RandomWinnerSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useCSVReader } from 'react-papaparse';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RandomWinnerSelector = () => {\n  _s();\n  const [csvData, setCsvData] = useState([]);\n  const [winners, setWinners] = useState({});\n  const [error, setError] = useState('');\n  const {\n    CSVReader\n  } = useCSVReader();\n  const handleCSVUpload = results => {\n    const data = results.data.slice(1); // Remove header row\n    setCsvData(data);\n    setError('');\n  };\n  const selectWinners = () => {\n    if (csvData.length === 0) {\n      setError('Please upload a CSV file first.');\n      return;\n    }\n    const locationGroups = {};\n    csvData.forEach(row => {\n      const location = row[4]; // Assuming Location is the 5th column (index 4)\n      if (!locationGroups[location]) {\n        locationGroups[location] = [];\n      }\n      locationGroups[location].push(row);\n    });\n    const selectedWinners = {};\n    Object.keys(locationGroups).forEach(location => {\n      const group = locationGroups[location];\n      const shuffled = group.sort(() => 0.5 - Math.random());\n      selectedWinners[location] = shuffled.slice(0, 20);\n    });\n    setWinners(selectedWinners);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-center mb-8\",\n        children: \"Random Winner Selector\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-md rounded-lg p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-4\",\n          children: \"Upload CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CSVReader, {\n          onUploadAccepted: handleCSVUpload,\n          config: {\n            skipEmptyLines: true\n          },\n          children: ({\n            getRootProps,\n            acceptedFile\n          }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              ...getRootProps(),\n              className: \"border-2 border-dashed border-gray-300 p-4 text-center cursor-pointer\",\n              children: acceptedFile ? acceptedFile.name : 'Drop CSV file here or click to upload.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this)\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: selectWinners,\n        className: \"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300\",\n        children: \"Select Winners\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\",\n        role: \"alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          className: \"font-bold\",\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"block sm:inline\",\n          children: [\" \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), Object.keys(winners).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-4\",\n          children: \"Winners\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), Object.entries(winners).map(([location, locationWinners]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold mb-2\",\n            children: location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc pl-5\",\n            children: locationWinners.map((winner, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"mb-1\",\n              children: [winner[3], \" - \", winner[2]]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)]\n        }, location, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(RandomWinnerSelector, \"Gz6Ma19JYAWNrco42Al3hyZlKZo=\", false, function () {\n  return [useCSVReader];\n});\n_c = RandomWinnerSelector;\nexport default RandomWinnerSelector;\nvar _c;\n$RefreshReg$(_c, \"RandomWinnerSelector\");","map":{"version":3,"names":["React","useState","useCSVReader","jsxDEV","_jsxDEV","Fragment","_Fragment","RandomWinnerSelector","_s","csvData","setCsvData","winners","setWinners","error","setError","CSVReader","handleCSVUpload","results","data","slice","selectWinners","length","locationGroups","forEach","row","location","push","selectedWinners","Object","keys","group","shuffled","sort","Math","random","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onUploadAccepted","config","skipEmptyLines","getRootProps","acceptedFile","name","onClick","role","entries","map","locationWinners","winner","index","_c","$RefreshReg$"],"sources":["C:/Users/bridogbe/OneDrive - Publicis Groupe/Documents/Scripts/random-winner-selector/src/RandomWinnerSelector.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useCSVReader } from 'react-papaparse';\r\n\r\nconst RandomWinnerSelector = () => {\r\n  const [csvData, setCsvData] = useState([]);\r\n  const [winners, setWinners] = useState({});\r\n  const [error, setError] = useState('');\r\n  const { CSVReader } = useCSVReader();\r\n\r\n  const handleCSVUpload = (results) => {\r\n    const data = results.data.slice(1); // Remove header row\r\n    setCsvData(data);\r\n    setError('');\r\n  };\r\n\r\n  const selectWinners = () => {\r\n    if (csvData.length === 0) {\r\n      setError('Please upload a CSV file first.');\r\n      return;\r\n    }\r\n\r\n    const locationGroups = {};\r\n    csvData.forEach((row) => {\r\n      const location = row[4]; // Assuming Location is the 5th column (index 4)\r\n      if (!locationGroups[location]) {\r\n        locationGroups[location] = [];\r\n      }\r\n      locationGroups[location].push(row);\r\n    });\r\n\r\n    const selectedWinners = {};\r\n    Object.keys(locationGroups).forEach((location) => {\r\n      const group = locationGroups[location];\r\n      const shuffled = group.sort(() => 0.5 - Math.random());\r\n      selectedWinners[location] = shuffled.slice(0, 20);\r\n    });\r\n\r\n    setWinners(selectedWinners);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-3xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold text-center mb-8\">Random Winner Selector</h1>\r\n        \r\n        <div className=\"bg-white shadow-md rounded-lg p-6 mb-8\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">Upload CSV</h2>\r\n          <CSVReader\r\n            onUploadAccepted={handleCSVUpload}\r\n            config={{\r\n              skipEmptyLines: true,\r\n            }}\r\n          >\r\n            {({ getRootProps, acceptedFile }) => (\r\n              <>\r\n                <div {...getRootProps()} className=\"border-2 border-dashed border-gray-300 p-4 text-center cursor-pointer\">\r\n                  {acceptedFile ? acceptedFile.name : 'Drop CSV file here or click to upload.'}\r\n                </div>\r\n              </>\r\n            )}\r\n          </CSVReader>\r\n        </div>\r\n\r\n        <button\r\n          onClick={selectWinners}\r\n          className=\"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300\"\r\n        >\r\n          Select Winners\r\n        </button>\r\n\r\n        {error && (\r\n          <div className=\"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n            <strong className=\"font-bold\">Error:</strong>\r\n            <span className=\"block sm:inline\"> {error}</span>\r\n          </div>\r\n        )}\r\n\r\n        {Object.keys(winners).length > 0 && (\r\n          <div className=\"mt-8\">\r\n            <h2 className=\"text-2xl font-bold mb-4\">Winners</h2>\r\n            {Object.entries(winners).map(([location, locationWinners]) => (\r\n              <div key={location} className=\"mb-6\">\r\n                <h3 className=\"text-xl font-semibold mb-2\">{location}</h3>\r\n                <ul className=\"list-disc pl-5\">\r\n                  {locationWinners.map((winner, index) => (\r\n                    <li key={index} className=\"mb-1\">\r\n                      {winner[3]} - {winner[2]}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RandomWinnerSelector;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}